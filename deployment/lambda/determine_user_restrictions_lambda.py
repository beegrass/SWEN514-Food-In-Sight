import json
import requests
import os
import re

def get_dietary_restrictions_ingredients(username):
    # Making a call to the Swagger API's diets endpoint
    api_endpoint = os.getenv('API_ENDPOINT')
    try:
        # Get user's dietary restrictions
        response = requests.get(f"{api_endpoint}/user/diets?username={username}")
        if response.status_code == 200:
            dietary_restrictions = response.json()['data']
            
            # Initialize set to store all restricted ingredients
            dietary_restrictions_ingredients = set()
            
            # For every dietary restriction
            for restriction in dietary_restrictions:
                # Make API call to get ingredients for this restriction
                response = requests.get(f"{api_endpoint}/diet/ingredients?restriction={restriction}")
                
                if response.status_code == 200:
                    # Add all ingredients from response to dietary_restrictions_ingredients
                    restriction_ingredients = response.json().get('ingredients', [])
                    dietary_restrictions_ingredients.update(restriction_ingredients)
            
            # Convert set back to list before returning
            return list(dietary_restrictions_ingredients)
        
        else:
            return []
    except:
        return []  
        

def lambda_handler(event, context):
    body = json.loads(event.get('body', {}))
    # Extract the Step Function Payload
    step_function_payload = event.get('step_function_payload', {})
    username = step_function_payload.get("username", "")
    image_url = step_function_payload.get("image_url", "")
    
    status_code = event.get("statusCode", "")
    
    if status_code == 200:
        # Parse the food information from food_api_lambda.py's response
        food_info = json.loads(event.get("body", {})).get("food_info", {})
        
        # Assuming 'username' is passed in the event for the Swagger API call
        dietary_restrictions_ingredients = get_dietary_restrictions_ingredients(username)
        
        # Analyzing and comparing dietary restrictions
        flagged_restrictions = set()
        

        # Get ingredients text and convert to lowercase for consistent matching
        food_info_text = str(food_info)

        for restricted_ingredient in dietary_restrictions_ingredients:
            if restricted_ingredient.lower() in food_info_text.lower():
                flagged_restrictions.add(restricted_ingredient)

        # Convert set to list for JSON serialization
        food_insight = {
            "flagged_restrictions": list(flagged_restrictions),
            "diet_restrictions": dietary_restrictions_ingredients
        }
        
        currated_user_results = {
            "food_info": food_info,
            "food_insight": food_insight
        }
        
        return {
            "statusCode": 200,
            "body": json.dumps({"currated_user_results": currated_user_results}),
            "step_function_payload" : step_function_payload
        }
    
    message = body.get("message", "")
    return {
        "statusCode": 200,
        "message": f"Unable to determine specific dietary restrictions because {message}",
        "step_function_payload" : step_function_payload
    }
    
# event = {
#   "statusCode": 200,
#   "body": "{\"source\": \"OpenFoodFacts\", \"food_info\": {\"_id\": \"3760091727732\", \"_keywords\": [\"ab\", \"agriculture\", \"and\", \"beurre\", \"beverage\", \"bio\", \"biologique\", \"butter\", \"cacahuete\", \"chine\", \"commerce\", \"de\", \"du\", \"en\", \"equateur\", \"equitable\", \"et\", \"ethiquable\", \"europeen\", \"fabrique\", \"food\", \"fr-bio-01\", \"france\", \"guatemala\", \"issu\", \"legume\", \"non\", \"nut-butter\", \"oilseed\", \"peanut\", \"perou\", \"plant-based\", \"product\", \"puree\", \"spread\", \"their\", \"ue\"], \"added_countries_tags\": [], \"additives_n\": 0, \"additives_original_tags\": [], \"additives_tags\": [], \"allergens\": \"en:nuts,en:peanuts\", \"allergens_from_ingredients\": \"en:peanuts, Arachide*\", \"allergens_from_user\": \"(fr) en:nuts,en:peanuts\", \"allergens_hierarchy\": [\"en:nuts\", \"en:peanuts\"], \"allergens_lc\": \"fr\", \"allergens_tags\": [\"en:nuts\", \"en:peanuts\"], \"amino_acids_prev_tags\": [], \"amino_acids_tags\": [], \"brands\": \"Ethiquable\", \"brands_tags\": [\"ethiquable\"], \"carbon_footprint_percent_of_known_ingredients\": 0.4, \"categories\": \"Plant-based foods and beverages, Plant-based foods, Legumes and their products, Spreads, Plant-based spreads, Oilseed purees, Legume butters, Peanut butters, en:nut-butters\", \"categories_hierarchy\": [\"en:plant-based-foods-and-beverages\", \"en:plant-based-foods\", \"en:legumes-and-their-products\", \"en:spreads\", \"en:nuts-and-their-products\", \"en:plant-based-spreads\", \"en:oilseed-purees\", \"en:legume-butters\", \"en:nut-butters\", \"en:peanut-butters\"], \"categories_lc\": \"en\", \"categories_old\": \"Aliments et boissons \\u00e0 base de v\\u00e9g\\u00e9taux, Aliments d'origine v\\u00e9g\\u00e9tale, L\\u00e9gumineuses et d\\u00e9riv\\u00e9s, Produits \\u00e0 tartiner, Fruits \\u00e0 coques et d\\u00e9riv\\u00e9s, P\\u00e2tes \\u00e0 tartiner v\\u00e9g\\u00e9tales, Pur\\u00e9es d'ol\\u00e9agineux, Beurres de l\\u00e9gumineuses, Beurres de fruits \\u00e0 coques, Beurres de cacahu\\u00e8tes\", \"categories_properties\": {\"agribalyse_food_code:en\": \"15202\", \"ciqual_food_code:en\": \"15202\"}, \"categories_properties_tags\": [\"all-products\", \"categories-known\", \"agribalyse-food-code-15202\", \"agribalyse-food-code-known\", \"agribalyse-proxy-food-code-unknown\", \"ciqual-food-code-15202\", \"ciqual-food-code-known\", \"agribalyse-known\", \"agribalyse-15202\"], \"categories_tags\": [\"en:plant-based-foods-and-beverages\", \"en:plant-based-foods\", \"en:legumes-and-their-products\", \"en:spreads\", \"en:nuts-and-their-products\", \"en:plant-based-spreads\", \"en:oilseed-purees\", \"en:legume-butters\", \"en:nut-butters\", \"en:peanut-butters\"], \"category_properties\": {\"ciqual_food_name:en\": \"Peanut butter or peanut paste\", \"ciqual_food_name:fr\": \"Beurre de cacahu\\u00e8te ou P\\u00e2te d'arachide\"}, \"checkers_tags\": [], \"ciqual_food_name_tags\": [\"peanut-butter-or-peanut-paste\"], \"cities_tags\": [], \"code\": \"3760091727732\", \"codes_tags\": [\"code-13\", \"3760091727xxx\", \"376009172xxxx\", \"37600917xxxxx\", \"3760091xxxxxx\", \"376009xxxxxxx\", \"37600xxxxxxxx\", \"3760xxxxxxxxx\", \"376xxxxxxxxxx\", \"37xxxxxxxxxxx\", \"3xxxxxxxxxxxx\"], \"compared_to_category\": \"en:peanut-butters\", \"complete\": 1, \"completed_t\": 1683361432, \"completeness\": 1, \"correctors_tags\": [\"drunkenbison\", \"kiliweb\", \"openfoodfacts-contributors\", \"segundo\", \"beniben\", \"yuka.UUtzL01vQllndmtTeGNZRS9CT0krT0JXNTdQd1ozM25OTm9JSVE9PQ\", \"yuka.YS93TEY0Yzh1dmNVdWZFYzJDemwyZk53MXJXaVVFV1dNYlFvSVE9PQ\", \"philanne\", \"sioul\", \"yuka.VnJzN0ZxY09qZE1UbzloajJoVDd4TzVvK0pYd2QyV1ZNdTRLSWc9PQ\", \"openchris\", \"yuka.V1pBa0cvNHF0dUV1Z3ZRdy9pdU01dDVGekpLeGYxR1RjdWtTSWc9PQ\", \"yuka.U28wa0tmVlFudDB6dWNjbHh5N3owNDV1NTVPdUIycUxHZkFMSVE9PQ\", \"roboto-app\", \"popolon\", \"mylabelcontributors\", \"ngalasa\", \"prisc010\", \"tacite\", \"quentinbrd\", \"org-ethiquable\", \"inf\", \"feat\", \"packbot\", \"lauriane-benito\", \"spicyramen\", \"axel77g\", \"charlesnepote\", \"wolfgang8741\", \"blozzer\", \"smoothie-app\", \"teolemon\", \"uio\", \"bessheron\", \"dam74\", \"foodvisor\", \"macrofactor\", \"moncoachigbas\", \"navig491\", \"anonymous-6tg7szv5ny\", \"brendanlg\", \"nicomem\"], \"countries\": \"France\", \"countries_hierarchy\": [\"en:france\"], \"countries_imported\": \"France\", \"countries_lc\": \"fr\", \"countries_tags\": [\"en:france\"], \"created_t\": 1490292277, \"creator\": \"kiliweb\", \"data_quality_bugs_tags\": [], \"data_quality_errors_tags\": [], \"data_quality_info_tags\": [\"en:packaging-data-incomplete\", \"en:ingredients-percent-analysis-ok\", \"en:all-but-one-ingredient-with-specified-percent\", \"en:sum-of-ingredients-with-unspecified-percent-lesser-than-10\", \"en:ecoscore-extended-data-computed\", \"en:ecoscore-extended-data-less-precise-than-agribalyse\", \"en:food-groups-1-known\", \"en:food-groups-2-known\", \"en:food-groups-3-unknown\"], \"data_quality_tags\": [\"en:packaging-data-incomplete\", \"en:ingredients-percent-analysis-ok\", \"en:all-but-one-ingredient-with-specified-percent\", \"en:sum-of-ingredients-with-unspecified-percent-lesser-than-10\", \"en:ecoscore-extended-data-computed\", \"en:ecoscore-extended-data-less-precise-than-agribalyse\", \"en:food-groups-1-known\", \"en:food-groups-2-known\", \"en:food-groups-3-unknown\", \"en:ingredients-50-percent-unknown\", \"en:ecoscore-packaging-unscored-material\"], \"data_quality_warnings_tags\": [\"en:ingredients-50-percent-unknown\", \"en:ecoscore-packaging-unscored-material\"], \"data_sources\": \"App - yuka, Apps, App - InFood, App - Open Food Facts, App - smoothie-openfoodfacts, App - macrofactor, App - mon-coach-ig-bas\", \"data_sources_tags\": [\"app-yuka\", \"apps\", \"app-infood\", \"app-open-food-facts\", \"app-smoothie-openfoodfacts\", \"app-macrofactor\", \"app-mon-coach-ig-bas\"], \"debug_param_sorted_langs\": [\"fr\", \"en\"], \"ecoscore_data\": {\"adjustments\": {\"origins_of_ingredients\": {\"aggregated_origins\": [{\"epi_score\": \"0\", \"origin\": \"en:china\", \"percent\": 25, \"transportation_score\": 0}, {\"epi_score\": \"12\", \"origin\": \"en:ecuador\", \"percent\": 25, \"transportation_score\": 0}, {\"epi_score\": \"0\", \"origin\": \"en:guatemala\", \"percent\": 25, \"transportation_score\": 0}, {\"epi_score\": \"0\", \"origin\": \"en:peru\", \"percent\": 25, \"transportation_score\": 0}], \"epi_score\": 0, \"epi_value\": 0, \"origins_from_categories\": [\"en:unknown\"], \"origins_from_origins_field\": [\"en:china\", \"en:ecuador\", \"en:guatemala\", \"en:peru\"], \"transportation_score\": 0.0, \"transportation_scores\": {\"ad\": 4.0, \"al\": 6.75, \"at\": 0.5, \"ax\": 0.0, \"ba\": 1.25, \"be\": 4.75, \"bg\": 1.75, \"ch\": 0.75, \"cy\": 7.75, \"cz\": 0.0, \"de\": 4.5, \"dk\": 0.0, \"dz\": 0.75, \"ee\": 0.5, \"eg\": 6.75, \"es\": 8.5, \"fi\": 0.25, \"fo\": 0.0, \"fr\": 9.25, \"gg\": 0.0, \"gi\": 13.75, \"gr\": 8.0, \"hr\": 4.5, \"hu\": 0.0, \"ie\": 10.25, \"il\": 6.75, \"im\": 0.0, \"is\": 1.0, \"it\": 2.5, \"je\": 0.0, \"lb\": 7.75, \"li\": 1.25, \"lt\": 0.0, \"lu\": 0.25, \"lv\": 0.5, \"ly\": 8.5, \"ma\": 2.25, \"mc\": 9.75, \"md\": 4.0, \"me\": 5.75, \"mk\": 3.5, \"mt\": 8.75, \"nl\": 4.25, \"no\": 3.25, \"pl\": 0.0, \"ps\": 8.75, \"pt\": 8.0, \"ro\": 4.25, \"rs\": 1.0, \"se\": 0.0, \"si\": 5.25, \"sj\": 0.0, \"sk\": 0.0, \"sm\": 1.0, \"sy\": 4.5, \"tn\": 10.25, \"tr\": 0.0, \"ua\": 6.75, \"uk\": 1.25, \"us\": 0.0, \"va\": 0.0, \"world\": 0.0, \"xk\": 3.25}, \"transportation_value\": 0, \"transportation_values\": {\"ad\": 1, \"al\": 1, \"at\": 0, \"ax\": 0, \"ba\": 0, \"be\": 1, \"bg\": 0, \"ch\": 0, \"cy\": 1, \"cz\": 0, \"de\": 1, \"dk\": 0, \"dz\": 0, \"ee\": 0, \"eg\": 1, \"es\": 1, \"fi\": 0, \"fo\": 0, \"fr\": 1, \"gg\": 0, \"gi\": 2, \"gr\": 1, \"hr\": 1, \"hu\": 0, \"ie\": 2, \"il\": 1, \"im\": 0, \"is\": 0, \"it\": 0, \"je\": 0, \"lb\": 1, \"li\": 0, \"lt\": 0, \"lu\": 0, \"lv\": 0, \"ly\": 1, \"ma\": 0, \"mc\": 1, \"md\": 1, \"me\": 1, \"mk\": 1, \"mt\": 1, \"nl\": 1, \"no\": 0, \"pl\": 0, \"ps\": 1, \"pt\": 1, \"ro\": 1, \"rs\": 0, \"se\": 0, \"si\": 1, \"sj\": 0, \"sk\": 0, \"sm\": 0, \"sy\": 1, \"tn\": 2, \"tr\": 0, \"ua\": 1, \"uk\": 0, \"us\": 0, \"va\": 0, \"world\": 0, \"xk\": 0}, \"value\": 0, \"values\": {\"ad\": 1, \"al\": 1, \"at\": 0, \"ax\": 0, \"ba\": 0, \"be\": 1, \"bg\": 0, \"ch\": 0, \"cy\": 1, \"cz\": 0, \"de\": 1, \"dk\": 0, \"dz\": 0, \"ee\": 0, \"eg\": 1, \"es\": 1, \"fi\": 0, \"fo\": 0, \"fr\": 1, \"gg\": 0, \"gi\": 2, \"gr\": 1, \"hr\": 1, \"hu\": 0, \"ie\": 2, \"il\": 1, \"im\": 0, \"is\": 0, \"it\": 0, \"je\": 0, \"lb\": 1, \"li\": 0, \"lt\": 0, \"lu\": 0, \"lv\": 0, \"ly\": 1, \"ma\": 0, \"mc\": 1, \"md\": 1, \"me\": 1, \"mk\": 1, \"mt\": 1, \"nl\": 1, \"no\": 0, \"pl\": 0, \"ps\": 1, \"pt\": 1, \"ro\": 1, \"rs\": 0, \"se\": 0, \"si\": 1, \"sj\": 0, \"sk\": 0, \"sm\": 0, \"sy\": 1, \"tn\": 2, \"tr\": 0, \"ua\": 1, \"uk\": 0, \"us\": 0, \"va\": 0, \"world\": 0, \"xk\": 0}}, \"packaging\": {\"non_recyclable_and_non_biodegradable_materials\": 0, \"packagings\": [{\"ecoscore_material_score\": 0, \"ecoscore_shape_ratio\": 0.2, \"material\": \"en:metal\", \"number_of_units\": 1, \"recycling\": \"en:recycle-in-sorting-bin\", \"shape\": \"en:lid\"}, {\"ecoscore_material_score\": 81, \"ecoscore_shape_ratio\": 1, \"material\": \"en:glass\", \"number_of_units\": 1, \"recycling\": \"en:recycle-in-glass-bin\", \"shape\": \"en:pot\"}], \"score\": 61.0, \"value\": -4, \"warning\": \"unscored_material\"}, \"production_system\": {\"labels\": [\"fr:ab-agriculture-biologique\", \"en:eu-organic\"], \"value\": 15}, \"threatened_species\": {}}, \"agribalyse\": {\"agribalyse_food_code\": \"15202\", \"co2_agriculture\": 1.7512494, \"co2_consumption\": 0.32140419, \"co2_distribution\": 0.03212036, \"co2_packaging\": 0.3344018, \"co2_processing\": 0.50585066, \"co2_total\": 3.1918859, \"co2_transportation\": 0.24685949, \"code\": \"15202\", \"dqr\": \"3.53\", \"ef_agriculture\": 0.32980732, \"ef_consumption\": 0.012749462, \"ef_distribution\": 0.0090220282, \"ef_packaging\": 0.036185239, \"ef_processing\": 0.073885714, \"ef_total\": 0.4821828222, \"ef_transportation\": 0.020533059, \"is_beverage\": 0, \"name_en\": \"Peanut butter or peanut paste\", \"name_fr\": \"Beurre de cacahu\\u00e8te ou P\\u00e2te d'arachide\", \"score\": 55, \"version\": \"3.1.1\"}, \"grade\": \"b\", \"grades\": {\"ad\": \"b\", \"al\": \"b\", \"at\": \"b\", \"ax\": \"b\", \"ba\": \"b\", \"be\": \"b\", \"bg\": \"b\", \"ch\": \"b\", \"cy\": \"b\", \"cz\": \"b\", \"de\": \"b\", \"dk\": \"b\", \"dz\": \"b\", \"ee\": \"b\", \"eg\": \"b\", \"es\": \"b\", \"fi\": \"b\", \"fo\": \"b\", \"fr\": \"b\", \"gg\": \"b\", \"gi\": \"b\", \"gr\": \"b\", \"hr\": \"b\", \"hu\": \"b\", \"ie\": \"b\", \"il\": \"b\", \"im\": \"b\", \"is\": \"b\", \"it\": \"b\", \"je\": \"b\", \"lb\": \"b\", \"li\": \"b\", \"lt\": \"b\", \"lu\": \"b\", \"lv\": \"b\", \"ly\": \"b\", \"ma\": \"b\", \"mc\": \"b\", \"md\": \"b\", \"me\": \"b\", \"mk\": \"b\", \"mt\": \"b\", \"nl\": \"b\", \"no\": \"b\", \"pl\": \"b\", \"ps\": \"b\", \"pt\": \"b\", \"ro\": \"b\", \"rs\": \"b\", \"se\": \"b\", \"si\": \"b\", \"sj\": \"b\", \"sk\": \"b\", \"sm\": \"b\", \"sy\": \"b\", \"tn\": \"b\", \"tr\": \"b\", \"ua\": \"b\", \"uk\": \"b\", \"us\": \"b\", \"va\": \"b\", \"world\": \"b\", \"xk\": \"b\"}, \"missing\": {\"packagings\": 1}, \"missing_data_warning\": 1, \"previous_data\": {\"agribalyse\": {\"agribalyse_food_code\": \"15202\", \"co2_agriculture\": 2.1314911, \"co2_consumption\": 0.39825926, \"co2_distribution\": 0.072986004, \"co2_packaging\": 0.36922143, \"co2_processing\": 0.10490262, \"co2_total\": 3.3144125, \"co2_transportation\": 0.23760759, \"code\": \"15202\", \"dqr\": \"3.53\", \"ef_agriculture\": 0.33995342, \"ef_consumption\": 0.016875668, \"ef_distribution\": 0.027302377, \"ef_packaging\": 0.039909801, \"ef_processing\": 0.011103799, \"ef_total\": 0.45377443, \"ef_transportation\": 0.018633601, \"is_beverage\": 0, \"name_en\": \"Peanut butter or peanut paste\", \"name_fr\": \"Beurre de cacahu\\u00e8te ou P\\u00e2te d'arachide\", \"score\": 57}, \"grade\": \"b\", \"score\": 68}, \"score\": 66, \"scores\": {\"ad\": 67, \"al\": 67, \"at\": 66, \"ax\": 66, \"ba\": 66, \"be\": 67, \"bg\": 66, \"ch\": 66, \"cy\": 67, \"cz\": 66, \"de\": 67, \"dk\": 66, \"dz\": 66, \"ee\": 66, \"eg\": 67, \"es\": 67, \"fi\": 66, \"fo\": 66, \"fr\": 67, \"gg\": 66, \"gi\": 68, \"gr\": 67, \"hr\": 67, \"hu\": 66, \"ie\": 68, \"il\": 67, \"im\": 66, \"is\": 66, \"it\": 66, \"je\": 66, \"lb\": 67, \"li\": 66, \"lt\": 66, \"lu\": 66, \"lv\": 66, \"ly\": 67, \"ma\": 66, \"mc\": 67, \"md\": 67, \"me\": 67, \"mk\": 67, \"mt\": 67, \"nl\": 67, \"no\": 66, \"pl\": 66, \"ps\": 67, \"pt\": 67, \"ro\": 67, \"rs\": 66, \"se\": 66, \"si\": 67, \"sj\": 66, \"sk\": 66, \"sm\": 66, \"sy\": 67, \"tn\": 68, \"tr\": 66, \"ua\": 67, \"uk\": 66, \"us\": 66, \"va\": 66, \"world\": 66, \"xk\": 66}, \"status\": \"known\"}, \"ecoscore_extended_data\": {\"impact\": {\"ef_single_score_log_stddev\": 4.44089209850063e-16, \"likeliest_impacts\": {\"Climate_change\": 0.416171576729008, \"EF_single_score\": 0.057841640738855}, \"likeliest_recipe\": {\"en:peanut\": 100.389312977099, \"en:water\": 0, \"fr:Conserver___l_abri_de_la_chaleur_et_de_la_lumi_re\": 0}, \"mass_ratio_uncharacterized\": 0, \"uncharacterized_ingredients\": {\"impact\": [\"fr:Conserver \\u00e0 l'abri de la chaleur et de la lumi\\u00e8re\"], \"nutrition\": [\"fr:Conserver \\u00e0 l'abri de la chaleur et de la lumi\\u00e8re\"]}, \"uncharacterized_ingredients_mass_proportion\": {\"impact\": 0, \"nutrition\": 0}, \"uncharacterized_ingredients_ratio\": {\"impact\": 0.5, \"nutrition\": 0.5}, \"warnings\": [\"The product has a high number of nutrition uncharacterized ingredients: 50%\", \"The product has a high number of impact uncharacterized ingredients: 50%\"]}}, \"ecoscore_extended_data_version\": \"4\", \"ecoscore_grade\": \"b\", \"ecoscore_score\": 66, \"ecoscore_tags\": [\"b\"], \"editors_tags\": [\"anonymous-6tg7szv5ny\", \"axel77g\", \"beniben\", \"bessheron\", \"blozzer\", \"brendanlg\", \"charlesnepote\", \"dam74\", \"date-limite-app\", \"driveoff\", \"drunkenbison\", \"ecoscore-impact-estimator\", \"feat\", \"foodvisor\", \"inf\", \"karbon\", \"kiliweb\", \"lauriane-benito\", \"macrofactor\", \"moncoachigbas\", \"mylabelcontributors\", \"navig491\", \"ngalasa\", \"nicomem\", \"openchris\", \"openfoodfacts-contributors\", \"org-ethiquable\", \"packbot\", \"philanne\", \"popolon\", \"prisc010\", \"quentinbrd\", \"roboto-app\", \"segundo\", \"sioul\", \"smoothie-app\", \"spicyramen\", \"tacite\", \"teolemon\", \"uio\", \"wolfgang8741\", \"yuka.U1BrWUdZNEYvZDRQbnNOanpoMkw0dThwMThLWURFU2JBTk16SUE9PQ\", \"yuka.U28wa0tmVlFudDB6dWNjbHh5N3owNDV1NTVPdUIycUxHZkFMSVE9PQ\", \"yuka.US9wUk41Z0RpZll4Z3ZGaCtnL3A4Tkl0NTdXSVREaU5jUFE5SVE9PQ\", \"yuka.UUtzL01vQllndmtTeGNZRS9CT0krT0JXNTdQd1ozM25OTm9JSVE9PQ\", \"yuka.V1pBa0cvNHF0dUV1Z3ZRdy9pdU01dDVGekpLeGYxR1RjdWtTSWc9PQ\", \"yuka.VjRVTE5KZ25oT0FUdnNFUTVVck54ZkIzNUlmeGZuN3RCKzgvSUE9PQ\", \"yuka.VnJzN0ZxY09qZE1UbzloajJoVDd4TzVvK0pYd2QyV1ZNdTRLSWc9PQ\", \"yuka.WVlvOUQ0cFJ2Zm9XdmNFd3JnTEt5TkYzbDhlakExdXFNYkkvSUE9PQ\", \"yuka.WVowN1B2czd1c0FUeGMxa3J4UHg0dmwybTdIekFYenVLdlFOSVE9PQ\", \"yuka.YS93TEY0Yzh1dmNVdWZFYzJDemwyZk53MXJXaVVFV1dNYlFvSVE9PQ\", \"yuka.YklrZkhZTlpvS01sdHNVaTJrbkwrOEIrNDZXVVFuSzBjTXRMSUE9PQ\"], \"emb_codes\": \"\", \"emb_codes_orig\": \"\", \"emb_codes_tags\": [], \"entry_dates_tags\": [\"2017-03-23\", \"2017-03\", \"2017\"], \"expiration_date\": \"07/06/2026\", \"food_groups\": \"en:legumes\", \"food_groups_tags\": [\"en:cereals-and-potatoes\", \"en:legumes\"], \"fruits-vegetables-nuts_100g_estimate\": 0, \"generic_name\": \"Beurre de cacahu\\u00e8tes issu du commerce \\u00e9quitable et de l'agriculture biologique\", \"generic_name_en\": \"\", \"generic_name_fr\": \"Beurre de cacahu\\u00e8tes issu du commerce \\u00e9quitable et de l'agriculture biologique\", \"grades\": {}, \"id\": \"3760091727732\", \"image_front_small_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.200.jpg\", \"image_front_thumb_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.100.jpg\", \"image_front_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.400.jpg\", \"image_small_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.200.jpg\", \"image_thumb_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.100.jpg\", \"image_url\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.400.jpg\", \"images\": {\"1\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 680, \"w\": 510}}, \"uploaded_t\": \"1490292277\", \"uploader\": \"openfoodfacts-contributors\"}, \"10\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 59}, \"400\": {\"h\": 400, \"w\": 236}, \"full\": {\"h\": 4628, \"w\": 2729}}, \"uploaded_t\": \"1566813897\", \"uploader\": \"openfoodfacts-contributors\"}, \"11\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 50}, \"400\": {\"h\": 400, \"w\": 201}, \"full\": {\"h\": 4897, \"w\": 2457}}, \"uploaded_t\": \"1566813940\", \"uploader\": \"openfoodfacts-contributors\"}, \"12\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": 1587986570, \"uploader\": \"prisc010\"}, \"13\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": 1587986611, \"uploader\": \"prisc010\"}, \"14\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": 1587986624, \"uploader\": \"prisc010\"}, \"15\": {\"sizes\": {\"100\": {\"h\": 91, \"w\": 100}, \"400\": {\"h\": 365, \"w\": 400}, \"full\": {\"h\": 1094, \"w\": 1200}}, \"uploaded_t\": 1590506730, \"uploader\": \"org-ethiquable\"}, \"16\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": 1645691955, \"uploader\": \"lauriane-benito\"}, \"17\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 56}, \"400\": {\"h\": 400, \"w\": 226}, \"full\": {\"h\": 5664, \"w\": 3197}}, \"uploaded_t\": 1676368866, \"uploader\": \"smoothie-app\"}, \"18\": {\"sizes\": {\"100\": {\"h\": 84, \"w\": 100}, \"400\": {\"h\": 338, \"w\": 400}, \"full\": {\"h\": 3446, \"w\": 4079}}, \"uploaded_t\": 1676368939, \"uploader\": \"smoothie-app\"}, \"19\": {\"sizes\": {\"100\": {\"h\": 57, \"w\": 100}, \"400\": {\"h\": 230, \"w\": 400}, \"full\": {\"h\": 2440, \"w\": 4248}}, \"uploaded_t\": 1676369045, \"uploader\": \"smoothie-app\"}, \"2\": {\"sizes\": {\"100\": {\"h\": 45, \"w\": 100}, \"400\": {\"h\": 180, \"w\": 400}, \"full\": {\"h\": 925, \"w\": 2050}}, \"uploaded_t\": \"1504788534\", \"uploader\": \"kiliweb\"}, \"20\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 5664, \"w\": 4248}}, \"uploaded_t\": 1676369080, \"uploader\": \"smoothie-app\"}, \"21\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4000, \"w\": 3000}}, \"uploaded_t\": \"1694356086\", \"uploader\": \"smoothie-app\"}, \"22\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4000, \"w\": 3000}}, \"uploaded_t\": \"1694356115\", \"uploader\": \"smoothie-app\"}, \"23\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4000, \"w\": 3000}}, \"uploaded_t\": \"1694356155\", \"uploader\": \"smoothie-app\"}, \"24\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4000, \"w\": 3000}}, \"uploaded_t\": \"1694356179\", \"uploader\": \"smoothie-app\"}, \"25\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4000, \"w\": 3000}}, \"uploaded_t\": \"1694356240\", \"uploader\": \"smoothie-app\"}, \"26\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 1200, \"w\": 901}}, \"uploaded_t\": \"1581750199\", \"uploader\": \"kiliweb\"}, \"27\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 57}, \"400\": {\"h\": 400, \"w\": 226}, \"full\": {\"h\": 1200, \"w\": 679}}, \"uploaded_t\": \"1581750200\", \"uploader\": \"kiliweb\"}, \"28\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 83}, \"400\": {\"h\": 400, \"w\": 333}, \"full\": {\"h\": 600, \"w\": 500}}, \"uploaded_t\": \"1653024915\", \"uploader\": \"foodvisor\"}, \"29\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 400, \"w\": 300}}, \"uploaded_t\": 1711090261, \"uploader\": \"foodvisor\"}, \"3\": {\"sizes\": {\"100\": {\"h\": 35, \"w\": 100}, \"400\": {\"h\": 141, \"w\": 400}, \"full\": {\"h\": 834, \"w\": 2367}}, \"uploaded_t\": \"1504788536\", \"uploader\": \"kiliweb\"}, \"30\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": \"1711462609\", \"uploader\": \"smoothie-app\"}, \"31\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": \"1711462640\", \"uploader\": \"smoothie-app\"}, \"32\": {\"sizes\": {\"100\": {\"h\": 56, \"w\": 100}, \"400\": {\"h\": 225, \"w\": 400}, \"full\": {\"h\": 1080, \"w\": 1920}}, \"uploaded_t\": 1725566421, \"uploader\": \"anonymous-6tg7szv5ny\"}, \"33\": {\"sizes\": {\"100\": {\"h\": 56, \"w\": 100}, \"400\": {\"h\": 225, \"w\": 400}, \"full\": {\"h\": 1080, \"w\": 1920}}, \"uploaded_t\": 1725566422, \"uploader\": \"anonymous-6tg7szv5ny\"}, \"34\": {\"sizes\": {\"100\": {\"h\": 56, \"w\": 100}, \"400\": {\"h\": 225, \"w\": 400}, \"full\": {\"h\": 1080, \"w\": 1920}}, \"uploaded_t\": 1725566423, \"uploader\": \"anonymous-6tg7szv5ny\"}, \"4\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 78}, \"400\": {\"h\": 400, \"w\": 313}, \"full\": {\"h\": 1200, \"w\": 939}}, \"uploaded_t\": \"1527624492\", \"uploader\": \"kiliweb\"}, \"5\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 4032, \"w\": 3024}}, \"uploaded_t\": 1534943642, \"uploader\": \"openfoodfacts-contributors\"}, \"6\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 69}, \"400\": {\"h\": 400, \"w\": 276}, \"full\": {\"h\": 3863, \"w\": 2661}}, \"uploaded_t\": 1538203428, \"uploader\": \"openfoodfacts-contributors\"}, \"7\": {\"sizes\": {\"100\": {\"h\": 68, \"w\": 100}, \"400\": {\"h\": 271, \"w\": 400}, \"full\": {\"h\": 1200, \"w\": 1772}}, \"uploaded_t\": 1558511574, \"uploader\": \"kiliweb\"}, \"8\": {\"sizes\": {\"100\": {\"h\": 100, \"w\": 72}, \"400\": {\"h\": 400, \"w\": 286}, \"full\": {\"h\": 1200, \"w\": 859}}, \"uploaded_t\": \"1553947388\", \"uploader\": \"kiliweb\"}, \"9\": {\"sizes\": {\"100\": {\"h\": 85, \"w\": 100}, \"400\": {\"h\": 342, \"w\": 400}, \"full\": {\"h\": 1200, \"w\": 1404}}, \"uploaded_t\": \"1553947389\", \"uploader\": \"kiliweb\"}, \"front_en\": {\"angle\": 0, \"coordinates_image_size\": \"full\", \"geometry\": \"0x0--1--1\", \"imgid\": \"20\", \"normalize\": null, \"rev\": \"93\", \"sizes\": {\"100\": {\"h\": 100, \"w\": 75}, \"200\": {\"h\": 200, \"w\": 150}, \"400\": {\"h\": 400, \"w\": 300}, \"full\": {\"h\": 5664, \"w\": 4248}}, \"white_magic\": null, \"x1\": \"-1\", \"x2\": \"-1\", \"y1\": \"-1\", \"y2\": \"-1\"}, \"front_fr\": {\"angle\": \"270\", \"coordinates_image_size\": \"full\", \"geometry\": \"922x1695-158-174\", \"imgid\": \"33\", \"normalize\": \"false\", \"rev\": \"122\", \"sizes\": {\"100\": {\"h\": 100, \"w\": 54}, \"200\": {\"h\": 200, \"w\": 109}, \"400\": {\"h\": 400, \"w\": 218}, \"full\": {\"h\": 1695, \"w\": 922}}, \"white_magic\": \"false\", \"x1\": \"158.1258877840909\", \"x2\": \"1080\", \"y1\": \"174.54545454545456\", \"y2\": \"1869.6503496503497\"}, \"ingredients_fr\": {\"angle\": \"270\", \"coordinates_image_size\": \"full\", \"geometry\": \"584x278-308-622\", \"imgid\": \"34\", \"normalize\": \"false\", \"rev\": \"123\", \"sizes\": {\"100\": {\"h\": 48, \"w\": 100}, \"200\": {\"h\": 95, \"w\": 200}, \"400\": {\"h\": 190, \"w\": 400}, \"full\": {\"h\": 278, \"w\": 584}}, \"white_magic\": \"false\", \"x1\": \"308.3916083916084\", \"x2\": \"892.4475524475524\", \"y1\": \"622.0419034090909\", \"y2\": \"900.6433020104895\"}, \"nutrition_fr\": {\"angle\": \"270\", \"coordinates_image_size\": \"full\", \"geometry\": \"500x382-345-941\", \"imgid\": \"34\", \"normalize\": \"false\", \"rev\": \"124\", \"sizes\": {\"100\": {\"h\": 76, \"w\": 100}, \"200\": {\"h\": 153, \"w\": 200}, \"400\": {\"h\": 306, \"w\": 400}, \"full\": {\"h\": 382, \"w\": 500}}, \"white_magic\": \"false\", \"x1\": \"345.31468531468533\", \"x2\": \"845.4545454545455\", \"y1\": \"941.3147399475524\", \"y2\": \"1323.9720826048951\"}, \"packaging_fr\": {\"angle\": \"270\", \"coordinates_image_size\": \"full\", \"geometry\": \"379x145-362-1275\", \"imgid\": \"34\", \"normalize\": \"false\", \"rev\": \"125\", \"sizes\": {\"100\": {\"h\": 38, \"w\": 100}, \"200\": {\"h\": 77, \"w\": 200}, \"400\": {\"h\": 145, \"w\": 379}, \"full\": {\"h\": 145, \"w\": 379}}, \"white_magic\": \"false\", \"x1\": \"362.0979020979021\", \"x2\": \"741.3986013986014\", \"y1\": \"1275.7481971153845\", \"y2\": \"1420.083861451049\"}}, \"informers_tags\": [\"kiliweb\", \"openfoodfacts-contributors\", \"drunkenbison\", \"segundo\", \"yuka.YS93TEY0Yzh1dmNVdWZFYzJDemwyZk53MXJXaVVFV1dNYlFvSVE9PQ\", \"sioul\", \"philanne\", \"roboto-app\", \"prisc010\", \"tacite\", \"org-ethiquable\", \"inf\", \"driveoff\", \"charlesnepote\", \"blozzer\", \"smoothie-app\", \"bessheron\", \"macrofactor\", \"navig491\"], \"ingredients\": [{\"ciqual_food_code\": \"15001\", \"ecobalyse_code\": \"peanut-non-eu\", \"id\": \"en:peanut\", \"is_in_taxonomy\": 1, \"labels\": \"en:fair-trade\", \"percent\": 100, \"percent_estimate\": 100.0, \"percent_max\": 100.0, \"percent_min\": 100.0, \"rank\": 1, \"text\": \"Arachide\", \"vegan\": \"yes\", \"vegetarian\": \"yes\"}, {\"id\": \"fr:et\", \"is_in_taxonomy\": 0, \"labels\": \"en:organic\", \"percent_estimate\": 0.0, \"percent_max\": 0.0, \"percent_min\": 0.0, \"rank\": 2, \"text\": \"et\"}], \"ingredients_analysis\": {\"en:palm-oil-content-unknown\": [\"fr:et\"], \"en:vegan-status-unknown\": [\"fr:et\"], \"en:vegetarian-status-unknown\": [\"fr:et\"]}, \"ingredients_analysis_tags\": [\"en:palm-oil-content-unknown\", \"en:vegan-status-unknown\", \"en:vegetarian-status-unknown\"], \"ingredients_debug\": [\"_Arachide_* 99\", \",\", null, null, null, \"6 %\", \",\", null, null, null, \" sel 0\", \",\", null, null, null, \"4 %\", \". \", null, null, null, \"*issue de l'agriculture biologique \", \"(\", \"(\", null, null, \"99 % du poids total).\"], \"ingredients_from_or_that_may_be_from_palm_oil_n\": 0, \"ingredients_from_palm_oil_n\": 0, \"ingredients_from_palm_oil_tags\": [], \"ingredients_hierarchy\": [\"en:peanut\", \"en:nut\", \"fr:et\"], \"ingredients_ids_debug\": [\"arachide-99\", \"6\", \"sel-0\", \"4\", \"issue-de-l-agriculture-biologique\", \"99-du-poids-total\"], \"ingredients_lc\": \"fr\", \"ingredients_n\": 2.0, \"ingredients_n_tags\": [\"2\", \"1-10\"], \"ingredients_non_nutritive_sweeteners_n\": 0, \"ingredients_original_tags\": [\"en:peanut\", \"fr:et\"], \"ingredients_percent_analysis\": 1, \"ingredients_sweeteners_n\": 0, \"ingredients_tags\": [\"en:peanut\", \"en:nut\", \"fr:et\"], \"ingredients_text\": \"Arachide* 100%. *Issue du commerce \\u00e9quitable et de l'agriculture biologique. Peut contenir des traces d'autres fruits \\u00e0 coque.\", \"ingredients_text_debug\": \"_Arachide_* 99,6 %, sel 0,4 %. *issue de l'agriculture biologique (99 % du poids total).\", \"ingredients_text_en\": \"\", \"ingredients_text_fr\": \"Arachide* 100%. *Issue du commerce \\u00e9quitable et de l'agriculture biologique. Peut contenir des traces d'autres fruits \\u00e0 coque.\", \"ingredients_text_with_allergens\": \"<span class=\\\"allergen\\\">Arachide*</span> 100%. *Issue du commerce \\u00e9quitable et de l'agriculture biologique. Peut contenir des traces d'autres <span class=\\\"allergen\\\">fruits \\u00e0 coque</span>.\", \"ingredients_text_with_allergens_en\": \"\", \"ingredients_text_with_allergens_fr\": \"<span class=\\\"allergen\\\">Arachide*</span> 100%. *Issue du commerce \\u00e9quitable et de l'agriculture biologique. Peut contenir des traces d'autres <span class=\\\"allergen\\\">fruits \\u00e0 coque</span>.\", \"ingredients_that_may_be_from_palm_oil_n\": 0, \"ingredients_that_may_be_from_palm_oil_tags\": [], \"ingredients_with_specified_percent_n\": 1, \"ingredients_with_specified_percent_sum\": 100, \"ingredients_with_unspecified_percent_n\": 1, \"ingredients_with_unspecified_percent_sum\": 0, \"ingredients_without_ciqual_codes\": [\"fr:et\"], \"ingredients_without_ciqual_codes_n\": 1, \"ingredients_without_ecobalyse_ids\": [\"fr:et\"], \"ingredients_without_ecobalyse_ids_n\": 1, \"interface_version_created\": \"20150316.jqm2\", \"interface_version_modified\": \"20150316.jqm2\", \"known_ingredients_n\": 2, \"labels\": \"Commerce \\u00e9quitable,Bio,Bio europ\\u00e9en,Agriculture non UE,Commerce \\u00e9quitable Bio,FR-BIO-01,Fabriqu\\u00e9 en France,AB Agriculture Biologique\", \"labels_hierarchy\": [\"en:fair-trade\", \"en:organic\", \"en:eu-organic\", \"en:non-eu-agriculture\", \"en:fair-trade-organic\", \"en:fr-bio-01\", \"en:made-in-france\", \"fr:ab-agriculture-biologique\"], \"labels_lc\": \"fr\", \"labels_old\": \"Bio, Bio europ\\u00e9en, Commerce \\u00e9quitable, Agriculture non UE, Commerce \\u00e9quitable Bio, FR-BIO-01, Fabriqu\\u00e9 en France, AB Agriculture Biologique\", \"labels_tags\": [\"en:fair-trade\", \"en:organic\", \"en:eu-organic\", \"en:non-eu-agriculture\", \"en:fair-trade-organic\", \"en:fr-bio-01\", \"en:made-in-france\", \"fr:ab-agriculture-biologique\"], \"lang\": \"fr\", \"languages\": {\"en:english\": 1, \"en:french\": 7}, \"languages_codes\": {\"en\": 1, \"fr\": 7}, \"languages_hierarchy\": [\"en:english\", \"en:french\"], \"languages_tags\": [\"en:english\", \"en:french\", \"en:2\", \"en:multilingual\"], \"last_edit_dates_tags\": [\"2024-11-11\", \"2024-11\", \"2024\"], \"last_editor\": \"nicomem\", \"last_image_dates_tags\": [\"2024-09-05\", \"2024-09\", \"2024\"], \"last_image_t\": 1725566423, \"last_modified_by\": \"nicomem\", \"last_modified_t\": 1731319146, \"last_updated_t\": 1731319146, \"lc\": \"fr\", \"lc_imported\": \"fr\", \"link\": \"https://www.ethiquable.coop/fiche-produit-equitable-et-bio/beurre-cacahuetes-equitable-bio\", \"main_countries_tags\": [], \"manufacturing_places\": \"France\", \"manufacturing_places_tags\": [\"france\"], \"max_imgid\": \"34\", \"minerals_prev_tags\": [], \"minerals_tags\": [], \"misc_tags\": [\"en:ecoscore-changed\", \"en:ecoscore-computed\", \"en:ecoscore-extended-data-computed\", \"en:ecoscore-extended-data-version-4\", \"en:ecoscore-missing-data-packagings\", \"en:ecoscore-missing-data-warning\", \"en:nutriscore-2021-a-2023-a\", \"en:nutriscore-2021-same-as-2023\", \"en:nutriscore-computed\", \"en:nutrition-all-nutriscore-values-known\", \"en:nutrition-fruits-vegetables-legumes-estimate-from-ingredients\", \"en:nutrition-fruits-vegetables-nuts-estimate-from-ingredients\", \"en:packagings-complete\", \"en:packagings-not-empty\", \"en:packagings-number-of-components-2\", \"en:some-ingredients-with-specified-percent\"], \"no_nutrition_data\": \"\", \"nova_group\": 1, \"nova_group_debug\": \"\", \"nova_groups\": \"1\", \"nova_groups_markers\": {}, \"nova_groups_tags\": [\"en:1-unprocessed-or-minimally-processed-foods\"], \"nucleotides_prev_tags\": [], \"nucleotides_tags\": [], \"nutrient_levels\": {\"fat\": \"high\", \"salt\": \"low\", \"saturated-fat\": \"high\", \"sugars\": \"moderate\"}, \"nutrient_levels_tags\": [\"en:fat-in-high-quantity\", \"en:saturated-fat-in-high-quantity\", \"en:sugars-in-moderate-quantity\", \"en:salt-in-low-quantity\"], \"nutriments\": {\"carbohydrates\": 13, \"carbohydrates_100g\": 13, \"carbohydrates_serving\": 13, \"carbohydrates_unit\": \"g\", \"carbohydrates_value\": 13, \"carbon-footprint-from-known-ingredients_product\": 0.7, \"energy\": 2575, \"energy-kcal\": 622, \"energy-kcal_100g\": 622, \"energy-kcal_serving\": 622, \"energy-kcal_unit\": \"kcal\", \"energy-kcal_value\": 622, \"energy-kcal_value_computed\": 622.6, \"energy-kj\": 2575, \"energy-kj_100g\": 2575, \"energy-kj_serving\": 2580, \"energy-kj_unit\": \"kJ\", \"energy-kj_value\": 2575, \"energy-kj_value_computed\": 2579.4, \"energy_100g\": 2575, \"energy_serving\": 2580, \"energy_unit\": \"kJ\", \"energy_value\": 2575, \"fat\": 50, \"fat_100g\": 50, \"fat_serving\": 50, \"fat_unit\": \"g\", \"fat_value\": 50, \"fiber\": 8.3, \"fiber_100g\": 8.3, \"fiber_serving\": 8.3, \"fiber_unit\": \"g\", \"fiber_value\": 8.3, \"fruits-vegetables-legumes-estimate-from-ingredients_100g\": 0, \"fruits-vegetables-legumes-estimate-from-ingredients_serving\": 0, \"fruits-vegetables-nuts-estimate-from-ingredients_100g\": 100, \"fruits-vegetables-nuts-estimate-from-ingredients_serving\": 100, \"nova-group\": 1, \"nova-group_100g\": 1, \"nova-group_serving\": 1, \"nutrition-score-fr\": -1, \"nutrition-score-fr_100g\": -1, \"proteins\": 26, \"proteins_100g\": 26, \"proteins_serving\": 26, \"proteins_unit\": \"g\", \"proteins_value\": 26, \"salt\": 0.03, \"salt_100g\": 0.03, \"salt_serving\": 0.03, \"salt_unit\": \"g\", \"salt_value\": 0.03, \"saturated-fat\": 6.8, \"saturated-fat_100g\": 6.8, \"saturated-fat_serving\": 6.8, \"saturated-fat_unit\": \"g\", \"saturated-fat_value\": 6.8, \"sodium\": 0.012, \"sodium_100g\": 0.012, \"sodium_serving\": 0.012, \"sodium_unit\": \"g\", \"sodium_value\": 0.012, \"sugars\": 5.8, \"sugars_100g\": 5.8, \"sugars_serving\": 5.8, \"sugars_unit\": \"g\", \"sugars_value\": 5.8}, \"nutriments_estimated\": {\"alcohol_100g\": 0, \"beta-carotene_100g\": 2.5e-06, \"calcium_100g\": 0.057, \"carbohydrates_100g\": 14.8, \"cholesterol_100g\": 0, \"copper_100g\": 0.00046, \"energy-kcal_100g\": 610, \"energy-kj_100g\": 2520, \"energy_100g\": 2520, \"fat_100g\": 49.1, \"fiber_100g\": 8.6, \"fructose_100g\": 0.1, \"galactose_100g\": 0, \"glucose_100g\": 0.1, \"iodine_100g\": 1e-05, \"iron_100g\": 0.0016, \"lactose_100g\": 0.1, \"magnesium_100g\": 0.19, \"maltose_100g\": 0.1, \"manganese_100g\": 0.0014, \"pantothenic-acid_100g\": 0.00176, \"phosphorus_100g\": 0.4, \"phylloquinone_100g\": 4e-07, \"polyols_100g\": 0, \"potassium_100g\": 0.7, \"proteins_100g\": 22.8, \"salt_100g\": 0.022, \"saturated-fat_100g\": 8.4, \"selenium_100g\": 3e-05, \"sodium_100g\": 0.0086, \"starch_100g\": 5, \"sucrose_100g\": 5.9, \"sugars_100g\": 5.9, \"vitamin-a_100g\": 0, \"vitamin-b12_100g\": 0, \"vitamin-b1_100g\": 0.00043, \"vitamin-b2_100g\": 2.4e-05, \"vitamin-b6_100g\": 0.0004, \"vitamin-b9_100g\": 8.93e-05, \"vitamin-c_100g\": 0.00025, \"vitamin-d_100g\": 0, \"vitamin-e_100g\": 0.00246, \"vitamin-pp_100g\": 0.0106, \"water_100g\": 2.2, \"zinc_100g\": 0.003}, \"nutriscore\": {\"2021\": {\"category_available\": 1, \"data\": {\"energy\": 2575, \"energy_points\": 7, \"energy_value\": 2575, \"fiber\": 8.3, \"fiber_points\": 5, \"fiber_value\": 8.3, \"fruits_vegetables_nuts_colza_walnut_olive_oils\": 100, \"fruits_vegetables_nuts_colza_walnut_olive_oils_points\": 5, \"fruits_vegetables_nuts_colza_walnut_olive_oils_value\": 100, \"is_beverage\": 0, \"is_cheese\": 0, \"is_fat\": 0, \"is_water\": 0, \"negative_points\": 14, \"positive_points\": 15, \"proteins\": 26, \"proteins_points\": 5, \"proteins_value\": 26.0, \"saturated_fat\": 6.8, \"saturated_fat_points\": 6, \"saturated_fat_value\": 6.8, \"sodium\": 12.0, \"sodium_points\": 0, \"sodium_value\": 12, \"sugars\": 5.8, \"sugars_points\": 1, \"sugars_value\": 5.8}, \"grade\": \"a\", \"nutrients_available\": 1, \"nutriscore_applicable\": 1, \"nutriscore_computed\": 1, \"score\": -1}, \"2023\": {\"category_available\": 1, \"data\": {\"components\": {\"negative\": [{\"id\": \"energy_from_saturated_fat\", \"points\": 2, \"points_max\": 10, \"unit\": \"kJ\", \"value\": 251.6}, {\"id\": \"sugars\", \"points\": 1, \"points_max\": 15, \"unit\": \"g\", \"value\": 5.8}, {\"id\": \"saturated_fat_ratio\", \"points\": 1, \"points_max\": 10, \"unit\": \"%\", \"value\": 13.6}, {\"id\": \"salt\", \"points\": 0, \"points_max\": 20, \"unit\": \"g\", \"value\": 0.03}], \"positive\": [{\"id\": \"proteins\", \"points\": 7, \"points_max\": 7, \"unit\": \"g\", \"value\": 26}, {\"id\": \"fiber\", \"points\": 5, \"points_max\": 5, \"unit\": \"g\", \"value\": 8.3}, {\"id\": \"fruits_vegetables_legumes\", \"points\": 0, \"points_max\": 5, \"unit\": \"%\", \"value\": 0}]}, \"count_proteins\": 1, \"count_proteins_reason\": \"negative_points_less_than_7\", \"is_beverage\": 0, \"is_cheese\": 0, \"is_fat_oil_nuts_seeds\": 1, \"is_red_meat_product\": 0, \"is_water\": 0, \"negative_points\": 4, \"negative_points_max\": 55, \"positive_nutrients\": [\"proteins\", \"fiber\", \"fruits_vegetables_legumes\"], \"positive_points\": 12, \"positive_points_max\": 17}, \"grade\": \"a\", \"nutrients_available\": 1, \"nutriscore_applicable\": 1, \"nutriscore_computed\": 1, \"score\": -8}}, \"nutriscore_2021_tags\": [\"a\"], \"nutriscore_2023_tags\": [\"a\"], \"nutriscore_data\": {\"energy\": 2575, \"energy_points\": 7, \"energy_value\": 2575, \"fiber\": 8.3, \"fiber_points\": 5, \"fiber_value\": 8.3, \"fruits_vegetables_nuts_colza_walnut_olive_oils\": 100, \"fruits_vegetables_nuts_colza_walnut_olive_oils_points\": 5, \"fruits_vegetables_nuts_colza_walnut_olive_oils_value\": 100, \"grade\": \"a\", \"is_beverage\": 0, \"is_cheese\": 0, \"is_fat\": 0, \"is_water\": 0, \"negative_points\": 14, \"positive_points\": 15, \"proteins\": 26, \"proteins_points\": 5, \"proteins_value\": 26, \"saturated_fat\": 6.8, \"saturated_fat_points\": 6, \"saturated_fat_value\": 6.8, \"score\": -1, \"sodium\": 12, \"sodium_points\": 0, \"sodium_value\": 12, \"sugars\": 5.8, \"sugars_points\": 1, \"sugars_value\": 5.8}, \"nutriscore_grade\": \"a\", \"nutriscore_score\": -1, \"nutriscore_score_opposite\": 1, \"nutriscore_tags\": [\"a\"], \"nutriscore_version\": \"2021\", \"nutrition_data\": \"on\", \"nutrition_data_per\": \"100g\", \"nutrition_data_prepared\": \"\", \"nutrition_data_prepared_per\": \"100g\", \"nutrition_grade_fr\": \"a\", \"nutrition_grades\": \"a\", \"nutrition_grades_tags\": [\"a\"], \"nutrition_score_beverage\": 0, \"nutrition_score_debug\": \"\", \"nutrition_score_warning_fruits_vegetables_legumes_estimate_from_ingredients\": 1, \"nutrition_score_warning_fruits_vegetables_legumes_estimate_from_ingredients_value\": 0, \"nutrition_score_warning_fruits_vegetables_nuts_estimate_from_ingredients\": 1, \"nutrition_score_warning_fruits_vegetables_nuts_estimate_from_ingredients_value\": 100, \"obsolete\": \"\", \"obsolete_since_date\": \"\", \"origin\": \"Fabriqu\\u00e9 en France. Chine, Equateur\", \"origin_en\": \"\", \"origin_fr\": \"Fabriqu\\u00e9 en France. Chine, Equateur\", \"origins\": \"Chine,\\u00c9quateur,P\\u00e9rou,Guatemala\", \"origins_hierarchy\": [\"en:china\", \"en:ecuador\", \"en:guatemala\", \"en:peru\"], \"origins_lc\": \"fr\", \"origins_old\": \"Chine,\\u00c9quateur\", \"origins_tags\": [\"en:china\", \"en:ecuador\", \"en:guatemala\", \"en:peru\"], \"other_nutritional_substances_prev_tags\": [], \"other_nutritional_substances_tags\": [], \"owner\": \"org-ethiquable\", \"owner_fields\": {\"countries\": 1590506666, \"lc\": 1590506666}, \"owners_tags\": \"org-ethiquable\", \"packaging\": \"couvercle en m\\u00e9tal,pot en verre\", \"packaging_hierarchy\": [\"fr:couvercle en m\\u00e9tal\", \"fr:pot en verre\"], \"packaging_lc\": \"fr\", \"packaging_materials_tags\": [\"en:glass\", \"en:metal\"], \"packaging_old\": \"Verre, Bocal\", \"packaging_old_before_taxonomization\": \"Bocal,Verre\", \"packaging_recycling_tags\": [\"en:recycle-in-glass-bin\", \"en:recycle-in-sorting-bin\"], \"packaging_shapes_tags\": [\"en:lid\", \"en:pot\"], \"packaging_tags\": [\"fr:couvercle-en-metal\", \"fr:pot-en-verre\"], \"packaging_text\": \"\", \"packaging_text_en\": \"\", \"packaging_text_fr\": \"\", \"packagings\": [{\"material\": \"en:metal\", \"number_of_units\": 1, \"recycling\": \"en:recycle-in-sorting-bin\", \"shape\": \"en:lid\"}, {\"material\": \"en:glass\", \"number_of_units\": 1, \"recycling\": \"en:recycle-in-glass-bin\", \"shape\": \"en:pot\"}], \"packagings_complete\": 1, \"packagings_materials\": {\"all\": {}, \"en:glass\": {}, \"en:metal\": {}}, \"packagings_n\": 2, \"photographers_tags\": [\"openfoodfacts-contributors\", \"kiliweb\", \"prisc010\", \"org-ethiquable\", \"lauriane-benito\", \"smoothie-app\", \"foodvisor\", \"anonymous-6tg7szv5ny\"], \"pnns_groups_1\": \"Cereals and potatoes\", \"pnns_groups_1_tags\": [\"cereals-and-potatoes\", \"known\"], \"pnns_groups_2\": \"Legumes\", \"pnns_groups_2_tags\": [\"legumes\", \"known\"], \"popularity_key\": 22999500279, \"popularity_tags\": [\"top-5000-scans-2019\", \"top-10000-scans-2019\", \"top-50000-scans-2019\", \"top-100000-scans-2019\", \"at-least-5-scans-2019\", \"at-least-10-scans-2019\", \"top-75-percent-scans-2019\", \"top-80-percent-scans-2019\", \"top-85-percent-scans-2019\", \"top-90-percent-scans-2019\", \"top-5000-fr-scans-2019\", \"top-10000-fr-scans-2019\", \"top-50000-fr-scans-2019\", \"top-100000-fr-scans-2019\", \"top-country-fr-scans-2019\", \"at-least-5-fr-scans-2019\", \"at-least-10-fr-scans-2019\", \"top-10000-ch-scans-2019\", \"top-50000-ch-scans-2019\", \"top-100000-ch-scans-2019\", \"at-least-5-ch-scans-2019\", \"top-1000-gf-scans-2019\", \"top-5000-gf-scans-2019\", \"top-10000-gf-scans-2019\", \"top-50000-gf-scans-2019\", \"top-100000-gf-scans-2019\", \"top-50000-de-scans-2019\", \"top-100000-de-scans-2019\", \"top-500-scans-2020\", \"top-1000-scans-2020\", \"top-5000-scans-2020\", \"top-10000-scans-2020\", \"top-50000-scans-2020\", \"top-100000-scans-2020\", \"at-least-5-scans-2020\", \"at-least-10-scans-2020\", \"top-75-percent-scans-2020\", \"top-80-percent-scans-2020\", \"top-85-percent-scans-2020\", \"top-90-percent-scans-2020\", \"top-500-fr-scans-2020\", \"top-1000-fr-scans-2020\", \"top-5000-fr-scans-2020\", \"top-10000-fr-scans-2020\", \"top-50000-fr-scans-2020\", \"top-100000-fr-scans-2020\", \"top-country-fr-scans-2020\", \"at-least-5-fr-scans-2020\", \"at-least-10-fr-scans-2020\", \"top-5000-be-scans-2020\", \"top-10000-be-scans-2020\", \"top-50000-be-scans-2020\", \"top-100000-be-scans-2020\", \"top-5000-it-scans-2020\", \"top-10000-it-scans-2020\", \"top-50000-it-scans-2020\", \"top-100000-it-scans-2020\", \"top-10000-ch-scans-2020\", \"top-50000-ch-scans-2020\", \"top-100000-ch-scans-2020\", \"top-5000-re-scans-2020\", \"top-10000-re-scans-2020\", \"top-50000-re-scans-2020\", \"top-100000-re-scans-2020\", \"top-500-mg-scans-2020\", \"top-1000-mg-scans-2020\", \"top-5000-mg-scans-2020\", \"top-10000-mg-scans-2020\", \"top-50000-mg-scans-2020\", \"top-100000-mg-scans-2020\", \"top-500-scans-2021\", \"top-1000-scans-2021\", \"top-5000-scans-2021\", \"top-10000-scans-2021\", \"top-50000-scans-2021\", \"top-100000-scans-2021\", \"at-least-5-scans-2021\", \"at-least-10-scans-2021\", \"top-75-percent-scans-2021\", \"top-80-percent-scans-2021\", \"top-85-percent-scans-2021\", \"top-90-percent-scans-2021\", \"top-500-fr-scans-2021\", \"top-1000-fr-scans-2021\", \"top-5000-fr-scans-2021\", \"top-10000-fr-scans-2021\", \"top-50000-fr-scans-2021\", \"top-100000-fr-scans-2021\", \"top-country-fr-scans-2021\", \"at-least-5-fr-scans-2021\", \"at-least-10-fr-scans-2021\", \"top-100-sn-scans-2021\", \"top-500-sn-scans-2021\", \"top-1000-sn-scans-2021\", \"top-5000-sn-scans-2021\", \"top-10000-sn-scans-2021\", \"top-50000-sn-scans-2021\", \"top-100000-sn-scans-2021\", \"top-5000-ch-scans-2021\", \"top-10000-ch-scans-2021\", \"top-50000-ch-scans-2021\", \"top-100000-ch-scans-2021\", \"top-5000-be-scans-2021\", \"top-10000-be-scans-2021\", \"top-50000-be-scans-2021\", \"top-100000-be-scans-2021\", \"top-1000-re-scans-2021\", \"top-5000-re-scans-2021\", \"top-10000-re-scans-2021\", \"top-50000-re-scans-2021\", \"top-100000-re-scans-2021\", \"top-5000-us-scans-2021\", \"top-10000-us-scans-2021\", \"top-50000-us-scans-2021\", \"top-100000-us-scans-2021\", \"top-10000-gb-scans-2021\", \"top-50000-gb-scans-2021\", \"top-100000-gb-scans-2021\", \"top-50000-es-scans-2021\", \"top-100000-es-scans-2021\", \"top-10000-nl-scans-2021\", \"top-50000-nl-scans-2021\", \"top-100000-nl-scans-2021\", \"top-10000-ma-scans-2021\", \"top-50000-ma-scans-2021\", \"top-100000-ma-scans-2021\", \"top-500-scans-2022\", \"top-1000-scans-2022\", \"top-5000-scans-2022\", \"top-10000-scans-2022\", \"top-50000-scans-2022\", \"top-100000-scans-2022\", \"at-least-5-scans-2022\", \"at-least-10-scans-2022\", \"top-75-percent-scans-2022\", \"top-80-percent-scans-2022\", \"top-85-percent-scans-2022\", \"top-90-percent-scans-2022\", \"top-500-fr-scans-2022\", \"top-1000-fr-scans-2022\", \"top-5000-fr-scans-2022\", \"top-10000-fr-scans-2022\", \"top-50000-fr-scans-2022\", \"top-100000-fr-scans-2022\", \"top-country-fr-scans-2022\", \"at-least-5-fr-scans-2022\", \"at-least-10-fr-scans-2022\", \"top-5000-be-scans-2022\", \"top-10000-be-scans-2022\", \"top-50000-be-scans-2022\", \"top-100000-be-scans-2022\", \"top-50000-de-scans-2022\", \"top-100000-de-scans-2022\", \"top-5000-ch-scans-2022\", \"top-10000-ch-scans-2022\", \"top-50000-ch-scans-2022\", \"top-100000-ch-scans-2022\", \"top-5000-lu-scans-2022\", \"top-10000-lu-scans-2022\", \"top-50000-lu-scans-2022\", \"top-100000-lu-scans-2022\", \"top-50000-es-scans-2022\", \"top-100000-es-scans-2022\", \"top-500-mg-scans-2022\", \"top-1000-mg-scans-2022\", \"top-5000-mg-scans-2022\", \"top-10000-mg-scans-2022\", \"top-50000-mg-scans-2022\", \"top-100000-mg-scans-2022\", \"top-5000-dk-scans-2022\", \"top-10000-dk-scans-2022\", \"top-50000-dk-scans-2022\", \"top-100000-dk-scans-2022\", \"top-10000-us-scans-2022\", \"top-50000-us-scans-2022\", \"top-100000-us-scans-2022\", \"top-500-mc-scans-2022\", \"top-1000-mc-scans-2022\", \"top-5000-mc-scans-2022\", \"top-10000-mc-scans-2022\", \"top-50000-mc-scans-2022\", \"top-100000-mc-scans-2022\", \"top-50000-it-scans-2022\", \"top-100000-it-scans-2022\", \"top-500-scans-2023\", \"top-1000-scans-2023\", \"top-5000-scans-2023\", \"top-10000-scans-2023\", \"top-50000-scans-2023\", \"top-100000-scans-2023\", \"at-least-5-scans-2023\", \"at-least-10-scans-2023\", \"top-75-percent-scans-2023\", \"top-80-percent-scans-2023\", \"top-85-percent-scans-2023\", \"top-90-percent-scans-2023\", \"top-500-fr-scans-2023\", \"top-1000-fr-scans-2023\", \"top-5000-fr-scans-2023\", \"top-10000-fr-scans-2023\", \"top-50000-fr-scans-2023\", \"top-100000-fr-scans-2023\", \"top-country-fr-scans-2023\", \"at-least-5-fr-scans-2023\", \"at-least-10-fr-scans-2023\", \"top-100-re-scans-2023\", \"top-500-re-scans-2023\", \"top-1000-re-scans-2023\", \"top-5000-re-scans-2023\", \"top-10000-re-scans-2023\", \"top-50000-re-scans-2023\", \"top-100000-re-scans-2023\", \"top-50000-de-scans-2023\", \"top-100000-de-scans-2023\", \"top-5000-nl-scans-2023\", \"top-10000-nl-scans-2023\", \"top-50000-nl-scans-2023\", \"top-100000-nl-scans-2023\", \"top-50000-it-scans-2023\", \"top-100000-it-scans-2023\", \"top-50000-us-scans-2023\", \"top-100000-us-scans-2023\", \"top-10000-ru-scans-2023\", \"top-50000-ru-scans-2023\", \"top-100000-ru-scans-2023\", \"top-500-gf-scans-2023\", \"top-1000-gf-scans-2023\", \"top-5000-gf-scans-2023\", \"top-10000-gf-scans-2023\", \"top-50000-gf-scans-2023\", \"top-100000-gf-scans-2023\", \"top-100000-gb-scans-2023\", \"top-1000-mk-scans-2023\", \"top-5000-mk-scans-2023\", \"top-10000-mk-scans-2023\", \"top-50000-mk-scans-2023\", \"top-100000-mk-scans-2023\", \"top-5000-nc-scans-2023\", \"top-10000-nc-scans-2023\", \"top-50000-nc-scans-2023\", \"top-100000-nc-scans-2023\", \"top-50000-ch-scans-2023\", \"top-100000-ch-scans-2023\", \"top-5000-mq-scans-2023\", \"top-10000-mq-scans-2023\", \"top-50000-mq-scans-2023\", \"top-100000-mq-scans-2023\", \"top-5000-cy-scans-2023\", \"top-10000-cy-scans-2023\", \"top-50000-cy-scans-2023\", \"top-100000-cy-scans-2023\", \"top-50000-ro-scans-2023\", \"top-100000-ro-scans-2023\", \"top-50000-es-scans-2023\", \"top-100000-es-scans-2023\"], \"product\": {}, \"product_name\": \"Beurre bio cacahu\\u00e8te\", \"product_name_en\": \"\", \"product_name_fr\": \"Beurre bio cacahu\\u00e8te\", \"product_quantity\": 350.0, \"product_quantity_unit\": \"g\", \"product_type\": \"food\", \"purchase_places\": \"Paris,France,Strasbourg\", \"purchase_places_tags\": [\"paris\", \"france\", \"strasbourg\"], \"quantity\": \"350 g\", \"removed_countries_tags\": [], \"rev\": 134, \"scans_n\": 322, \"scores\": {}, \"selected_images\": {\"front\": {\"display\": {\"en\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.400.jpg\", \"fr\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_fr.122.400.jpg\"}, \"small\": {\"en\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.200.jpg\", \"fr\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_fr.122.200.jpg\"}, \"thumb\": {\"en\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_en.93.100.jpg\", \"fr\": \"https://images.openfoodfacts.org/images/products/376/009/172/7732/front_fr.122.100.jpg\"}}}, \"serving_quantity\": 100.0, \"serving_quantity_unit\": \"g\", \"serving_size\": \"100 g\", \"sortkey\": 1590506730, \"sources\": [{\"fields\": [], \"id\": \"org-ethiquable\", \"images\": [], \"import_t\": 1590506729, \"manufacturer\": 1, \"name\": \"ethiquable\", \"url\": null}], \"states\": \"en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-completed, en:packaging-code-to-be-completed, en:characteristics-completed, en:origins-completed, en:categories-completed, en:brands-completed, en:packaging-completed, en:quantity-completed, en:product-name-completed, en:photos-validated, en:packaging-photo-selected, en:nutrition-photo-selected, en:ingredients-photo-selected, en:front-photo-selected, en:photos-uploaded\", \"states_hierarchy\": [\"en:to-be-checked\", \"en:complete\", \"en:nutrition-facts-completed\", \"en:ingredients-completed\", \"en:expiration-date-completed\", \"en:packaging-code-to-be-completed\", \"en:characteristics-completed\", \"en:origins-completed\", \"en:categories-completed\", \"en:brands-completed\", \"en:packaging-completed\", \"en:quantity-completed\", \"en:product-name-completed\", \"en:photos-validated\", \"en:packaging-photo-selected\", \"en:nutrition-photo-selected\", \"en:ingredients-photo-selected\", \"en:front-photo-selected\", \"en:photos-uploaded\"], \"states_tags\": [\"en:to-be-checked\", \"en:complete\", \"en:nutrition-facts-completed\", \"en:ingredients-completed\", \"en:expiration-date-completed\", \"en:packaging-code-to-be-completed\", \"en:characteristics-completed\", \"en:origins-completed\", \"en:categories-completed\", \"en:brands-completed\", \"en:packaging-completed\", \"en:quantity-completed\", \"en:product-name-completed\", \"en:photos-validated\", \"en:packaging-photo-selected\", \"en:nutrition-photo-selected\", \"en:ingredients-photo-selected\", \"en:front-photo-selected\", \"en:photos-uploaded\"], \"stores\": \"carrefour.fr,Intermarch\\u00e9,E.Leclerc\", \"stores_tags\": [\"carrefour-fr\", \"intermarche\", \"e-leclerc\"], \"teams\": \"vendredi,feat,stakano,chocolatine,la-robe-est-bleue\", \"teams_tags\": [\"vendredi\", \"feat\", \"stakano\", \"chocolatine\", \"la-robe-est-bleue\"], \"traces\": \"en:nuts\", \"traces_from_ingredients\": \"fruits \\u00e0 coque\", \"traces_from_user\": \"(fr) en:nuts\", \"traces_hierarchy\": [\"en:nuts\"], \"traces_lc\": \"fr\", \"traces_tags\": [\"en:nuts\"], \"unique_scans_n\": 269, \"unknown_ingredients_n\": 1.0, \"unknown_nutrients_tags\": [], \"update_key\": \"ecoscore\", \"url\": \"https://world.openfoodfacts.org/product/3760091727732/beurre-bio-cacahuete-ethiquable\", \"vitamins_prev_tags\": [], \"vitamins_tags\": [], \"weighers_tags\": []}}",
#   "step_function_payload": {
#     "image_url": "s3://imagebucket-88be1fd0-5d13-ab5a-c68d-efef4740111c/images/5effb5aa-c307-4027-a86c-c5472dd3639a.jpg",
#     "username": "jacob_canedy",
#     "rekognition_confidence": 99.9979248046875
#   }
# }
# res = lambda_handler(event, {})
# print()